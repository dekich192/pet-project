# Pet Project API

Полноценное бэкенд-приложение на FastAPI с аутентификацией, работой с базой данных и очередями сообщений.

## Структура проекта

```
pet_project/
├── .env                    # Переменные окружения
├── requirements/           # Зависимости проекта
│   └── base.txt            # Основные зависимости
└── app/                    # Основной пакет приложения
    ├── __init__.py
    ├── main.py             # Точка входа в приложение FastAPI
    │
    ├── api/                # API маршруты
    │   └── v1/             # API версия 1
    │       ├── endpoints/  # Конечные точки API
    │       └── api.py      # Роутер API
    │
    ├── config/             # Конфигурация
    │   └── settings.py     # Настройки приложения
    │
    ├── core/               # Основная функциональность
    │   └── security.py     # Аутентификация и безопасность
    │
    ├── database/           # Настройка базы данных
    │   └── __init__.py
    │
    ├── models/             # Модели базы данных
    │   └── user.py         # Модели пользователей и работников
    │
    ├── schemas/            # Pydantic модели
    │   └── user.py         # Схемы запросов/ответов
    │
    └── workers/            # Фоновые задачи
        └── rabbitmq.py     # Потребитель/поставщик RabbitMQ
```

## Возможности

- **Аутентификация**: JWT-аутентификация
- **База данных**: SQLAlchemy ORM с асинхронной поддержкой
- **API**: RESTful эндпоинты с версионированием
- **Очередь сообщений**: Интеграция с RabbitMQ для асинхронных задач
- **Тестирование**: Настройка Pytest для модульных и интеграционных тестов
- **Конфигурация**: Настройки через переменные окружения

## Настройка

1. **Клонируйте репозиторий**
   ```bash
   git clone <адрес-репозитория>
   cd pet_project
   ```

2. **Создайте виртуальное окружение**
   ```bash
   python -m venv venv
   # В Windows:
   .\venv\Scripts\activate
   # В Linux/Mac:
   source venv/bin/activate
   ```

3. **Установите зависимости**
   ```bash
   pip install -r requirements/base.txt
   ```

4. **Настройте переменные окружения**
   Скопируйте `.env.example` в `.env` и обновите значения:
   ```bash
   cp .env.example .env
   ```

5. **Настройка базы данных**
   - Создайте базу данных PostgreSQL
   - Обновите `DATABASE_URL` в файле `.env`
   - Примените миграции:
     ```bash
     alembic upgrade head
     ```

6. **Запустите приложение**
   ```bash
   uvicorn app.main:app --reload
   ```

## Документация API

После запуска приложения доступны:

- **Интерактивная документация**: http://localhost:8000/docs
- **Альтернативная документация**: http://localhost:8000/redoc

## Разработка

### Запуск тестов
```bash
pytest
```

### Форматирование кода
```bash
black .
```

### Проверка стиля кода
```bash
flake8
```

## Лицензия

Проект распространяется под лицензией MIT.
